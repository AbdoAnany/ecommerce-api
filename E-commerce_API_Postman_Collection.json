{
  "info": {
    "_postman_id": "e-commerce-api-collection",
    "name": "E-commerce API Collection (Updated)",
    "description": "Complete collection of E-commerce Backend API endpoints with authentication, CRUD operations, admin features, user management, and password reset functionality.\n\n## Features:\n- User Authentication & Registration\n- Product & Category Management\n- Shopping Cart & Order Processing\n- Admin Dashboard & Analytics\n- User Management & Role Assignment\n- Password Reset & Security Features\n- Setup & Emergency Endpoints\n\n## Quick Start:\n1. Use 'Test Admin Login' to get admin access\n2. Use 'Test Customer Login' for customer access\n3. Check 'Quick System Status' for health\n4. Initialize database with 'Initialize Database'\n\n## Production URL:\nhttps://ecommerce-api-2owr.onrender.com\n\n## Admin Credentials:\nEmail: admin@example.com\nPassword: admin123",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": {
      "major": 2,
      "minor": 0,
      "patch": 0
    }
  },
  "item": [
    {
      "name": "Health & Info",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/ping",
              "host": ["{{base_url}}"],
              "path": ["ping"]
            }
          },
          "response": []
        },
        {
          "name": "API Info",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('access_token', response.data.access_token);",
                  "    pm.environment.set('refresh_token', response.data.refresh_token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"newuser\",\n    \"email\": \"newuser@example.com\",\n    \"password\": \"newuser123\",\n    \"first_name\": \"New\",\n    \"last_name\": \"User\",\n    \"phone\": \"+1234567890\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/register",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "register"]
            }
          },
          "response": []
        },
        {
          "name": "Login User",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('access_token', response.data.access_token);",
                  "    pm.environment.set('refresh_token', response.data.refresh_token);",
                  "    pm.environment.set('user_id', response.data.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Login Customer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('access_token', response.data.access_token);",
                  "    pm.environment.set('refresh_token', response.data.refresh_token);",
                  "    pm.environment.set('user_id', response.data.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"customer@example.com\",\n    \"password\": \"customer123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Get Current User Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/me",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "me"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('access_token', response.data.access_token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{refresh_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "refresh"]
            }
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "logout"]
            }
          },
          "response": []
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"first_name\": \"Updated\",\n    \"last_name\": \"Name\",\n    \"phone\": \"+1987654321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "profile"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Get All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"]
            }
          },
          "response": []
        },
        {
          "name": "Get Products with Pagination",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?page=1&per_page=10",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "per_page",
                  "value": "10"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?search=smartphone&category=electronics&min_price=100&max_price=1000",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"],
              "query": [
                {
                  "key": "search",
                  "value": "smartphone"
                },
                {
                  "key": "category",
                  "value": "electronics"
                },
                {
                  "key": "min_price",
                  "value": "100"
                },
                {
                  "key": "max_price",
                  "value": "1000"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Product by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('product_id', response.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Create Product (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"New Product\",\n    \"description\": \"A great new product\",\n    \"price\": 99.99,\n    \"stock_quantity\": 50,\n    \"category_id\": 1,\n    \"sku\": \"NEW-PROD-001\",\n    \"tags\": [\"new\", \"featured\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"]
            }
          },
          "response": []
        },
        {
          "name": "Update Product (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Product Name\",\n    \"price\": 109.99,\n    \"stock_quantity\": 45\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "{{product_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Product (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "{{product_id}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "Get All Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/categories",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "categories"]
            }
          },
          "response": []
        },
        {
          "name": "Get Category by ID",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('category_id', response.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/categories/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "categories", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Create Category (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"New Category\",\n    \"description\": \"A new product category\",\n    \"parent_id\": null\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/categories",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "categories"]
            }
          },
          "response": []
        },
        {
          "name": "Update Category (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Category Name\",\n    \"description\": \"Updated category description\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/categories/{{category_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "categories", "{{category_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete Category (Admin)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/categories/{{category_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "categories", "{{category_id}}"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Shopping Cart",
      "item": [
        {
          "name": "Get Cart",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart"]
            }
          },
          "response": []
        },
        {
          "name": "Add Item to Cart",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"product_id\": 1,\n    \"quantity\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/cart/add",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "add"]
            }
          },
          "response": []
        },
        {
          "name": "Update Cart Item",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"quantity\": 3\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/cart/item/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "item", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Remove Item from Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart/item/1",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "item", "1"]
            }
          },
          "response": []
        },
        {
          "name": "Clear Cart",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/cart/clear",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "clear"]
            }
          },
          "response": []
        },
        {
          "name": "Apply Coupon",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"coupon_code\": \"SAVE10\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/cart/apply-coupon",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "cart", "apply-coupon"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Get User Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Create Order from Cart",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('order_id', response.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"shipping_address_id\": 1,\n    \"payment_method\": \"credit_card\",\n    \"notes\": \"Please deliver after 5 PM\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/orders/create",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "create"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "{{order_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"reason\": \"Changed my mind\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/orders/{{order_id}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "{{order_id}}", "cancel"]
            }
          },
          "response": []
        },
        {
          "name": "Track Order",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/orders/{{order_id}}/track",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "orders", "{{order_id}}", "track"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "User Management",
      "item": [
        {
          "name": "Get User Addresses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/users/addresses",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "addresses"]
            }
          },
          "response": []
        },
        {
          "name": "Add User Address",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('address_id', response.data.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"type\": \"shipping\",\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"address_line1\": \"123 Main Street\",\n    \"address_line2\": \"Apt 4B\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"postal_code\": \"10001\",\n    \"country\": \"USA\",\n    \"phone\": \"+1234567890\",\n    \"is_default\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/users/addresses",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "addresses"]
            }
          },
          "response": []
        },
        {
          "name": "Update User Address",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"address_line1\": \"456 Updated Street\",\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"postal_code\": \"90210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/users/addresses/{{address_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "addresses", "{{address_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Delete User Address",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/users/addresses/{{address_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "addresses", "{{address_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Order History",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/users/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Get Activity Log",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/users/activity",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "users", "activity"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Admin Dashboard",
      "item": [
        {
          "name": "Get Dashboard Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/dashboard",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "dashboard"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Users (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/users",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "users"]
            }
          },
          "response": []
        },
        {
          "name": "Get User Details (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "users", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Update User Status (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"is_active\": false,\n    \"is_verified\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "users", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get All Orders (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/orders",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "orders"]
            }
          },
          "response": []
        },
        {
          "name": "Update Order Status (Admin)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"shipped\",\n    \"tracking_number\": \"TRK123456789\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "orders", "{{order_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Get Product Analytics (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/analytics/products",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "analytics", "products"]
            }
          },
          "response": []
        },
        {
          "name": "Get Sales Analytics (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/analytics/sales?period=30",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "analytics", "sales"],
              "query": [
                {
                  "key": "period",
                  "value": "30"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Admin Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/admin-users?is_active=true&search=admin",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "admin-users"],
              "query": [
                {
                  "key": "is_active",
                  "value": "true",
                  "description": "Filter by active status"
                },
                {
                  "key": "search",
                  "value": "admin",
                  "description": "Search by name, email, username"
                },
                {
                  "key": "page",
                  "value": "1",
                  "disabled": true
                },
                {
                  "key": "per_page",
                  "value": "20",
                  "disabled": true
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Current Admin",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/current-admin",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "current-admin"]
            }
          },
          "response": []
        },
        {
          "name": "Get Admin Statistics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/admin-stats",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "admin-stats"]
            }
          },
          "response": []
        },
        {
          "name": "Promote User to Admin",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/promote-user/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "promote-user", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Demote Admin to User",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/demote-admin/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "demote-admin", "{{user_id}}"]
            }
          },
          "response": []
        },
        {
          "name": "Bulk Promote Users",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_ids\": [2, 3]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/bulk-promote",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "bulk-promote"]
            }
          },
          "response": []
        },
        {
          "name": "Reset User Password (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"new_password\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/users/{{user_id}}/reset-password",
              "host": ["{{base_url}}"],
              "path": [
                "api",
                "v1",
                "admin",
                "users",
                "{{user_id}}",
                "reset-password"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Reset Admin Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"admin_email\": \"admin@example.com\",\n    \"new_password\": \"newadminpass123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/reset-admin-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "reset-admin-password"]
            }
          },
          "response": []
        },
        {
          "name": "Change Own Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"current_password\": \"admin123\",\n    \"new_password\": \"mynewsecurepassword\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/admin/change-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "change-password"]
            }
          },
          "response": []
        },
        {
          "name": "Generate Secure Password",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/admin/generate-password",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "admin", "generate-password"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Product Reviews",
      "item": [
        {
          "name": "Get Product Reviews",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products/1/reviews",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1", "reviews"]
            }
          },
          "response": []
        },
        {
          "name": "Add Product Review",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"rating\": 5,\n    \"comment\": \"Excellent product! Highly recommended.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/products/1/reviews",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products", "1", "reviews"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Shipping",
      "item": [
        {
          "name": "Get Shipping Methods",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/shipping/methods",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "shipping", "methods"]
            }
          },
          "response": []
        },
        {
          "name": "Calculate Shipping Cost",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"address_id\": 1,\n    \"items\": [\n        {\n            \"product_id\": 1,\n            \"quantity\": 2\n        }\n    ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/shipping/calculate",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "shipping", "calculate"]
            }
          },
          "response": []
        },
        {
          "name": "Track Shipment",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/v1/shipping/track/TRK123456789",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "shipping", "track", "TRK123456789"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Setup & Emergency",
      "item": [
        {
          "name": "Database Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/setup/health",
              "host": ["{{base_url}}"],
              "path": ["setup", "health"]
            }
          },
          "response": []
        },
        {
          "name": "Initialize Database",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": {
              "raw": "{{base_url}}/setup/init-db",
              "host": ["{{base_url}}"],
              "path": ["setup", "init-db"]
            }
          },
          "response": []
        },
        {
          "name": "List All Users (Setup)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/setup/list-users",
              "host": ["{{base_url}}"],
              "path": ["setup", "list-users"]
            }
          },
          "response": []
        },
        {
          "name": "Promote User to Admin (Setup)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"user_id\": 2\n}"
            },
            "url": {
              "raw": "{{base_url}}/setup/promote-user",
              "host": ["{{base_url}}"],
              "path": ["setup", "promote-user"]
            }
          },
          "response": []
        },
        {
          "name": "Promote User by Email (Setup)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"customer@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/setup/promote-user",
              "host": ["{{base_url}}"],
              "path": ["setup", "promote-user"]
            }
          },
          "response": []
        },
        {
          "name": "Emergency Admin Password Reset",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"admin_email\": \"admin@example.com\",\n    \"new_password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/setup/reset-admin-password",
              "host": ["{{base_url}}"],
              "path": ["setup", "reset-admin-password"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Testing & Utilities",
      "item": [
        {
          "name": "Test Admin Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('admin_token', response.data.access_token);",
                  "    pm.environment.set('admin_refresh_token', response.data.refresh_token);",
                  "    pm.environment.set('admin_user_id', response.data.user.id);",
                  "    console.log('Admin login successful! Token saved as admin_token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Test Customer Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('customer_token', response.data.access_token);",
                  "    pm.environment.set('customer_refresh_token', response.data.refresh_token);",
                  "    pm.environment.set('customer_user_id', response.data.user.id);",
                  "    console.log('Customer login successful! Token saved as customer_token');",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"customer@example.com\",\n    \"password\": \"customer123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/auth/login",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Quick System Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/setup/health",
              "host": ["{{base_url}}"],
              "path": ["setup", "health"]
            }
          },
          "response": []
        },
        {
          "name": "List Products (Quick Test)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/products?per_page=5",
              "host": ["{{base_url}}"],
              "path": ["api", "v1", "products"],
              "query": [
                {
                  "key": "per_page",
                  "value": "5"
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "https://ecommerce-api-2owr.onrender.com",
      "type": "string",
      "description": "Production API base URL"
    },
    {
      "key": "local_url",
      "value": "http://localhost:5001",
      "type": "string",
      "description": "Local development URL"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string",
      "description": "General access token"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string",
      "description": "General refresh token"
    },
    {
      "key": "admin_token",
      "value": "",
      "type": "string",
      "description": "Admin access token"
    },
    {
      "key": "admin_refresh_token",
      "value": "",
      "type": "string",
      "description": "Admin refresh token"
    },
    {
      "key": "customer_token",
      "value": "",
      "type": "string",
      "description": "Customer access token"
    },
    {
      "key": "customer_refresh_token",
      "value": "",
      "type": "string",
      "description": "Customer refresh token"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string",
      "description": "Current user ID"
    },
    {
      "key": "admin_user_id",
      "value": "",
      "type": "string",
      "description": "Admin user ID"
    },
    {
      "key": "customer_user_id",
      "value": "",
      "type": "string",
      "description": "Customer user ID"
    },
    {
      "key": "product_id",
      "value": "",
      "type": "string",
      "description": "Product ID for testing"
    },
    {
      "key": "category_id",
      "value": "",
      "type": "string",
      "description": "Category ID for testing"
    },
    {
      "key": "order_id",
      "value": "",
      "type": "string",
      "description": "Order ID for testing"
    },
    {
      "key": "address_id",
      "value": "",
      "type": "string",
      "description": "Address ID for testing"
    }
  ]
}
